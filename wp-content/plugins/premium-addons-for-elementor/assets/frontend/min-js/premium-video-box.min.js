!function(e){function i(d,m){var i,o,l=d.find(".premium-video-box-container"),e=d.find(".premium-video-box-playlist-container"),t=l.find(".premium-video-box-video-container"),c=l.find(".premium-video-box-inner-wrap"),p=c.find(".premium-video-box-image-container"),a=l.data("type"),n=l.data("thumbnail"),r=l.data("sticky"),s=l.data("sticky-play"),f=l.data("hover"),v=e.length?e:l,u=!!v.data("lightbox")&&v.data("lightbox");if(u)"prettyphoto"===u.type&&v.find(".premium-vid-lightbox-container[data-rel^='prettyPhoto']").prettyPhoto({theme:u.theme,hook:"data-rel",opacity:.7,show_title:!1,deeplinking:!1,overlay_gallery:!0,custom_markup:"",default_width:900,default_height:506,social_tools:""}),v.find(".premium-video-box-image-container, .premium-video-box-play-icon-container").on("click",function(e){var i;i=v,"elementor"===u.type?i.find(".premium-video-box-video-container").click():i.find(".premium-vid-lightbox-container[data-rel^='prettyPhoto']").click()});else{if(e.length){if(!t.length)return;return void t.each(function(e,i){var o,t=m(i),a=t.closest(".premium-video-box-container"),n=t.closest(".premium-video-box-trigger");o=t.data("src"),o+="&autoplay=1",n.on("click",function(){var e=m("<iframe/>");e.attr({src:o,frameborder:"0",allowfullscreen:"1",allow:"autoplay;encrypted-media;"}),t.css("background","#000"),t.html(e),a.find(".premium-video-box-image-container, .premium-video-box-play-icon-container").remove()})})}if("self"===a?(i=t.find("video"),o=i.attr("src"),l.data("play-viewport")&&(elementorFrontend.waypoint(l,function(){y()},{offset:"top-in-view",triggerOnce:!1}),l.data("play-reset")&&elementorFrontend.waypoint(l,function(e){"up"===e&&(l.removeClass("playing"),m(i).get(0).pause(),m(i).get(0).currentTime=0)},{offset:"100%",triggerOnce:!1}))):(o=t.data("src"),n&&-1===o.indexOf("autoplay=1")?o+="&autoplay=1":l.data("play-viewport")?elementorFrontend.waypoint(l,function(){y()},{offset:"top-in-view"}):y()),l.on("click",function(){y()}),"yes"!==r||"yes"===s)return;b()}function y(){if(!l.hasClass("playing")){if(l.addClass("playing"),"yes"===s&&b(),"self"===a)m(i).get(0).play(),t.css({opacity:"1",visibility:"visible"});else{var e=m("<iframe/>");e.attr({src:o,frameborder:"0",allowfullscreen:"1",allow:"autoplay;encrypted-media;"}),t.css("background","#000"),t.html(e)}l.find(".premium-video-box-image-container, .premium-video-box-play-icon-container, .premium-video-box-description-container").remove(),"vimeo"===a&&l.find(".premium-video-box-vimeo-wrap").remove()}}function b(){var o=l.data("hide-desktop"),t=l.data("hide-tablet"),a=l.data("hide-mobile"),n=l.data("sticky-margin");if(l.off("click").on("click",function(e){var i=e.target.className;if(0<=i.toString().indexOf("premium-video-box-sticky-close")||0<=i.toString().indexOf("premium-video-box-sticky-close"))return!1;y()}),void 0!==elementorFrontend.waypoint)var i=elementorFrontend.waypoint(l,function(e){if("down"===e){if(l.removeClass("premium-video-box-sticky-hide").addClass("premium-video-box-sticky-apply premium-video-box-filter-sticky"),d.hasClass("elementor-motion-effects-parent")&&d.removeClass("elementor-motion-effects-perspective").find(".elementor-widget-container").addClass("premium-video-box-transform"),l.data("mask")&&(d.find(".premium-video-box-mask-filter").removeClass("premium-video-box-mask-filter"),l.find(":first-child").removeClass("premium-video-box-mask-media"),p.removeClass(f).removeClass("premium-video-box-mask-media").css({transition:"width 0.2s, height 0.2s","-webkit-transition":"width 0.2s, height 0.2s"})),m(document).trigger("premium_after_sticky_applied",[d]),c.data("video-animation")&&" "!=c.data("video-animation")){c.css("opacity","0");var i=c.data("delay-animation");setTimeout(function(){c.css("opacity","1").addClass("animated "+c.data("video-animation"))},1e3*i)}}else l.removeClass("premium-video-box-sticky-apply  premium-video-box-filter-sticky").addClass("premium-video-box-sticky-hide"),d.hasClass("elementor-motion-effects-parent")&&d.addClass("elementor-motion-effects-perspective").find(".elementor-widget-container").removeClass("premium-video-box-transform"),l.data("mask")&&(l.parent().addClass("premium-video-box-mask-filter"),l.find(":first-child").eq(0).addClass("premium-video-box-mask-media"),p.addClass("premium-video-box-mask-media")),p.addClass(f).css({transition:"all 0.2s","-webkit-transition":"all 0.2s"}),c.removeClass("animated "+c.data("video-animation"))},{offset:"0%",triggerOnce:!1});function r(e){var i=elementorFrontend.getCurrentDeviceMode();""!==o&&i==o||""!==t&&i==t||""!==a&&i==a?s(e):e[0].enable()}function s(e){e[0].disable(),l.removeClass("premium-video-box-sticky-apply premium-video-box-sticky-hide")}function e(){l.hasClass("premium-video-box-sticky-apply")&&c.draggable({start:function(){m(this).css({transform:"none",top:m(this).offset().top+"px",left:m(this).offset().left+"px"})},containment:"window"})}d.find(".premium-video-box-sticky-close").off("click.closetrigger").on("click.closetrigger",function(e){e.stopPropagation(),i[0].disable(),l.removeClass("premium-video-box-sticky-apply premium-video-box-sticky-hide"),d.hasClass("elementor-motion-effects-parent")&&d.addClass("elementor-motion-effects-perspective").find(".elementor-widget-container").removeClass("premium-video-box-transform"),l.data("mask")&&(l.parent().addClass("premium-video-box-mask-filter"),l.find(":first-child").eq(0).addClass("premium-video-box-mask-media"),p.addClass("premium-video-box-mask-media"))}),r(i),e(),window.addEventListener("scroll",e),m(window).resize(function(e){r(i)}),m(document).on("premium_after_sticky_applied",function(e,i){var o=i.find(".premium-video-box-sticky-infobar");if(0!==o.length){var t=o.outerHeight();if((i.hasClass("premium-video-sticky-center-left")||i.hasClass("premium-video-sticky-center-right"))&&(t=Math.ceil(t/2),c.css("top","calc( 50% - "+t+"px )")),(i.hasClass("premium-video-sticky-bottom-left")||i.hasClass("premium-video-sticky-bottom-right"))&&""!==n){var a=(t=Math.ceil(t))+n;c.css("bottom",a)}}})}}e(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/premium-addon-video-box.default",i)})}(jQuery);